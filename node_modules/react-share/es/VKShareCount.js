import jsonp from 'jsonp';
import objectToGetParams from './utils/objectToGetParams';
import createShareCount from './hocs/createShareCount';
function getVKShareCount(shareUrl, callback) {
    if (!window.VK) {
        window.VK = {
            Share: {
                count: function (index, count) { return window.VK.callbacks[index](count); },
            },
            callbacks: [],
        };
    }
    var url = 'https://vk.com/share.php';
    var index = window.VK.callbacks.length;
    window.VK.callbacks.push(callback);
    return jsonp(url +
        objectToGetParams({
            act: 'count',
            index: index,
            url: shareUrl,
        }));
}
export default createShareCount(getVKShareCount);
