{"ast":null,"code":"import React,{useState}from'react';import{GoogleLogout}from'react-google-login';function logOut(e){e.preventDefault();console.log(\"click\");window.sessionStorage.login=\"false\";window.sessionStorage.firstname=undefined;window.sessionStorage.secondname=undefined;window.sessionStorage.email=undefined;window.sessionStorage.uid=undefined;window.sessionStorage.uuid=undefined;window.location.href=\"/home\";}function Report(){console.log(\"hey\");if(window.sessionStorage.login&&window.sessionStorage.login==\"true\"){console.log(window.sessionStorage.email);fetch(\"https://demo-stormbreaker.herokuapp.com/users/is_exist\",{method:\"POST\",firebase_id:window.sessionStorage.uid,body:JSON.stringify({firebase_id:window.sessionStorage.uid})}).then(function(res){return res.json();}).then(function(result){if(result.status==true){// no register needed\nconsole.log(\"no register\");}else{//register needed\nconsole.log(\"registering\");fetch(\"https://demo-stormbreaker.herokuapp.com/users/register\",{method:\"POST\",firebase_id:window.sessionStorage.uid,body:JSON.stringify({firebase_id:window.sessionStorage.uid,first_name:window.sessionStorage.firstname,last_name:window.sessionStorage.secondname,email:window.sessionStorage.email,device_id:\"1\"})}).then(function(res){return res.json();}).then(function(result){console.log(\"register result\");console.log(result);window.sessionStorage.uuid=result.user_id;},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){// register unsucessful, show error & redirect to home page\nwindow.location.href=\"/home\";});}},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){console.log(\"error\");console.log(error);});var taketoform=function taketoform(){window.location.href=\"/form\";};return/*#__PURE__*/React.createElement(\"div\",{id:\"page2\"},/*#__PURE__*/React.createElement(\"div\",{id:\"page2-1\"},/*#__PURE__*/React.createElement(\"p\",{class:\"page2-1-1\"},\"Help the nation in\",/*#__PURE__*/React.createElement(\"br\",null),\" maintaining social\",/*#__PURE__*/React.createElement(\"br\",null),\"distance. If you find\",/*#__PURE__*/React.createElement(\"br\",null),\" someone not\",/*#__PURE__*/React.createElement(\"br\",null),\"following the law, help\",/*#__PURE__*/React.createElement(\"br\",null),\" us take the mesage\",/*#__PURE__*/React.createElement(\"br\",null),\" forward.\"),/*#__PURE__*/React.createElement(\"button\",{class:\"page2-1-2\",type:\"button\",onClick:taketoform},\"Report\"),/*#__PURE__*/React.createElement(\"p\",{class:\"page2-1-3\"},\"We keep your identity anonymous all the time.\")),/*#__PURE__*/React.createElement(\"div\",{class:\"page2-2\"},/*#__PURE__*/React.createElement(\"p\",{class:\"page2-2-1\"},\"Your previous reports\"),/*#__PURE__*/React.createElement(\"div\",{class:\"page2-2-2\"},\"Community Gathering\"),/*#__PURE__*/React.createElement(\"div\",{class:\"page2-2-2\"},\"Community Gathering\"),/*#__PURE__*/React.createElement(\"div\",{class:\"page2-2-2\"},\"Community Gathering\"),/*#__PURE__*/React.createElement(\"div\",{class:\"page2-2-2\"},\"Community Gathering\")));}else{window.location.href=\"/home\";}}export default Report;","map":{"version":3,"sources":["/home/utkarsh/Desktop/jagrukcorona/react-pwa/src/report.js"],"names":["React","useState","GoogleLogout","logOut","e","preventDefault","console","log","window","sessionStorage","login","firstname","undefined","secondname","email","uid","uuid","location","href","Report","fetch","method","firebase_id","body","JSON","stringify","then","res","json","result","status","first_name","last_name","device_id","user_id","error","taketoform"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { GoogleLogout } from 'react-google-login';\n\nfunction logOut(e){\n    e.preventDefault();\n    console.log(\"click\");\n    window.sessionStorage.login=\"false\";\n    window.sessionStorage.firstname=undefined;\n    window.sessionStorage.secondname=undefined;\n    window.sessionStorage.email=undefined;\n    window.sessionStorage.uid=undefined;\n    window.sessionStorage.uuid=undefined;\n    window.location.href=\"/home\";\n\n}\n\nfunction Report(){\n    console.log(\"hey\");\n    \n    \n    if(window.sessionStorage.login && window.sessionStorage.login==\"true\"){\n        console.log(window.sessionStorage.email);\n\n       fetch(\"https://demo-stormbreaker.herokuapp.com/users/is_exist\",{\n           method: \"POST\",\n           firebase_id: window.sessionStorage.uid,\n           body: JSON.stringify({\n               firebase_id: window.sessionStorage.uid\n           })\n       })\n       .then(res => res.json())\n       .then(\n        (result) => {\n          \n          if(result.status==true){\n              // no register needed\n              console.log(\"no register\");\n          }\n          else{\n              //register needed\n              console.log(\"registering\");\n              fetch(\"https://demo-stormbreaker.herokuapp.com/users/register\",{\n                method: \"POST\",\n                firebase_id: window.sessionStorage.uid,\n                body: JSON.stringify({\n                    firebase_id: window.sessionStorage.uid,\n                    first_name: window.sessionStorage.firstname,\n                    last_name: window.sessionStorage.secondname,\n                    email: window.sessionStorage.email,\n                    device_id:\"1\"\n\n\n                })\n            })\n            .then(res => res.json())\n            .then(\n             (result) => {\n                    console.log(\"register result\");\n                    console.log(result);\n                    window.sessionStorage.uuid=result.user_id;\n               \n             },\n             // Note: it's important to handle errors here\n             // instead of a catch() block so that we don't swallow\n             // exceptions from actual bugs in components.\n             (error) => {\n               // register unsucessful, show error & redirect to home page\n                window.location.href=\"/home\";\n\n             });\n\n          }\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          console.log(\"error\");\n          console.log(error);\n        });\n\n        const taketoform =() =>{\n            window.location.href=\"/form\";\n        }\n          \n        return(\n            <div id=\"page2\">\n            <div id=\"page2-1\">\n                <p class=\"page2-1-1\">Help the nation in<br/> maintaining social<br/>distance. If you find<br/> someone not<br/>following the law, help<br/> us take the mesage<br/> forward.</p>\n                <button class=\"page2-1-2\" type=\"button\" onClick={taketoform}>Report</button>\n                <p class=\"page2-1-3\">We keep your identity anonymous all the time.</p>\n            </div>\n            <div class=\"page2-2\">\n                <p class=\"page2-2-1\">Your previous reports</p>\n                <div class=\"page2-2-2\">Community Gathering</div>\n                <div class=\"page2-2-2\">Community Gathering</div>\n                <div class=\"page2-2-2\">Community Gathering</div>\n                <div class=\"page2-2-2\">Community Gathering</div>\n            </div> \n              {/* <GoogleLogout\n                render={renderProps => (\n                  <button\n                    className=\"logout-button\"\n                    onClick={logOut}\n                  >\n                    Log Out\n                  </button>\n                )}\n                clientId=\"916995490002-h4438ccl1o2hth8nk1eipja9ijvo79g6.apps.googleusercontent.com\"\n                onLogoutSuccess={logOut}\n              /> */}\n            </div>\n            \n\n        );\n        \n    }\n    else{\n        window.location.href=\"/home\";\n    }\n}  \n    \n\nexport default Report;\n"]},"metadata":{},"sourceType":"module"}