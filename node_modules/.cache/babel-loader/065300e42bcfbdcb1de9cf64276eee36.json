{"ast":null,"code":"import _classCallCheck from\"/home/utkarsh/Desktop/Jagruk_Corona/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/utkarsh/Desktop/Jagruk_Corona/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/utkarsh/Desktop/Jagruk_Corona/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/home/utkarsh/Desktop/Jagruk_Corona/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/utkarsh/Desktop/Jagruk_Corona/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./reportform.css';import ReportFormFinal from'./reportformfinal';function ReportForm(){if(window.localStorage.login==\"true\"){return/*#__PURE__*/React.createElement(FullForm,null);}else{window.location.href='/main';}}var FullForm=/*#__PURE__*/function(_React$Component){_inherits(FullForm,_React$Component);var _super=_createSuper(FullForm);function FullForm(props){var _this;_classCallCheck(this,FullForm);_this=_super.call(this,props);_this.state={state:'',address:'',city:'',pin:'',number:'',title:'',desc:'',img:null,isActive:false,filled:false,obj:null,load:\"none\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.sub1=_this.sub1.bind(_assertThisInitialized(_this));_this.finalsub=_this.finalsub.bind(_assertThisInitialized(_this));_this.back=_this.back.bind(_assertThisInitialized(_this));return _this;}_createClass(FullForm,[{key:\"sub1\",value:function sub1(){this.setState({filled:true});console.log(\"here yea\");//this.state.obj= <ReportFormFinal />\n}},{key:\"back\",value:function back(){this.setState({filled:false});}},{key:\"finalsub\",value:function finalsub(e){var _this2=this;//\te.preventdefault();\ndocument.getElementById(\"repo1-3-2\").style.display=\"initial\";var data=new FormData();data.append(\"user_id\",window.localStorage.uuid);data.append(\"title\",\"title\");data.append(\"address\",this.state.address);data.append(\"city\",this.state.city);data.append(\"pincode\",this.state.pin);data.append(\"state\",this.state.state);data.append(\"country\",this.state.desc);data.append(\"image\",this.state.img);this.setState({load:\"block\"});fetch(\"https://demo-stormbreaker.herokuapp.com/reports/register\",{method:\"POST\",body:data}).then(function(res){return res.json();}).then(function(result){// console.log(\"register report\");\n// console.log(result);\n_this2.setState({load:\"none\"});window.location.href=\"/submit\";},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){// register unsucessful, show error & redirect to home page\n});//console.log(this.state.address);\n}},{key:\"handleChange\",value:function handleChange(val,c){console.log(val);//document.getElementById(\"uploaded-img\").src= val.name;\nswitch(c){case 1:this.setState({img:val});var reader=new FileReader();var selectedFile=val;document.getElementById(\"uploaded-img\").title=selectedFile.name;reader.onload=function(event){document.getElementById(\"uploaded-img\").src=event.target.result;};reader.readAsDataURL(selectedFile);break;case 2:this.setState({address:val});break;case 3:this.setState({city:val});break;case 4:this.setState({state:val});break;case 5:this.setState({pin:val});break;case 6:this.setState({number:val});break;case 7:this.setState({title:val});break;case 8:this.setState({desc:val});break;}}},{key:\"render\",value:function render(){if(this.state.filled==false){this.state.obj=/*#__PURE__*/React.createElement(Form1,{cbfunc:this.handleChange,val:this.state,sub:this.sub1});}else{this.state.obj=/*#__PURE__*/React.createElement(ReportFormFinal,{sub:this.finalsub,val:this.state,cbfunc:this.handleChange,back:this.back,load:this.state.load});}return this.state.obj;}}]);return FullForm;}(React.Component);var Form1=/*#__PURE__*/function(_React$Component2){_inherits(Form1,_React$Component2);var _super2=_createSuper(Form1);function Form1(props){var _this3;_classCallCheck(this,Form1);_this3=_super2.call(this,props);_this3.state={state:'',address:'',city:'',pin:'',number:'',title:'',desc:'',img:null,isActive:false,filled:false};//  this.handleChange = this.handleChange.bind(this);\n_this3.addsubmit=_this3.addsubmit.bind(_assertThisInitialized(_this3));_this3.fileuploaded=_this3.fileuploaded.bind(_assertThisInitialized(_this3));_this3.uploadagain=_this3.uploadagain.bind(_assertThisInitialized(_this3));return _this3;}_createClass(Form1,[{key:\"taketomain\",value:function taketomain(){window.location.href='/main';}},{key:\"fileuploaded\",value:function fileuploaded(){document.getElementById(\"upload-img\").style.display=\"none\";document.getElementById(\"after-upload\").style.display=\"block\";// document.getElementById(\"repo1-2-2\").style.display = \"initial\";\n// //document.getElementById(\"repo1-1-2\").style.display = \"none\";\n// document.getElementById(\"repo1-1-21\").style.display = \"block\";\n}},{key:\"uploadagain\",value:function uploadagain(){document.getElementById(\"upload-img\").style.display=\"block\";document.getElementById(\"after-upload\").style.display=\"none\";// document.getElementById(\"repo1-2-2\").style.display = \"none\";\n// document.getElementById(\"repo1-1-2\").style.display = \"block\";\n// document.getElementById(\"repo1-1-21\").style.display = \"none\";\n}},{key:\"addsubmit\",value:function addsubmit(){//document.getElementById(\"repo1-3-2\").style.display = \"initial\";\nconsole.log(\"yea\");this.state.filled=true;return false;}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",{class:\"repo1\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"back \",onClick:this.taketomain},/*#__PURE__*/React.createElement(\"img\",{class:\"back-1\",src:\"icon/Vector.png\",alt:\"noimage\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"repo1-2\"},/*#__PURE__*/React.createElement(\"div\",{class:\"ua1\"},\" \",/*#__PURE__*/React.createElement(\"img\",{class:\"repo1-2-1\",src:\"icon/Group 52.png\",alt:\"noimage\"}),/*#__PURE__*/React.createElement(\"img\",{id:\"repo1-2-2\",src:\"icon/Group.png\",alt:\"noimage\"})),/*#__PURE__*/React.createElement(\"label\",{for:\"file-input\"},/*#__PURE__*/React.createElement(\"p\",{class:\"upload-pic\"},\"Upload Picture\"),/*#__PURE__*/React.createElement(\"img\",{id:\"upload-img\",src:\"icon/Group 7.png\",onClick:this.fileuploaded,alt:\"noimage\"})),/*#__PURE__*/React.createElement(\"input\",{id:\"file-input\",type:\"file\",onChange:function onChange(e){return _this4.props.cbfunc(e.target.files[0],1);}}),/*#__PURE__*/React.createElement(\"div\",{id:\"after-upload\"},/*#__PURE__*/React.createElement(\"button\",{class:\"reupload\",type:\"button\",onClick:this.uploadagain},\"Reupload\"),/*#__PURE__*/React.createElement(\"img\",{id:\"uploaded-img\",src:\"\",alt:\"noimage\"}))),/*#__PURE__*/React.createElement(\"div\",{class:\"repo1-3 \"},/*#__PURE__*/React.createElement(\"div\",{class:\"ua2\"},\"  \",/*#__PURE__*/React.createElement(\"img\",{class:\"repo1-2-1\",src:\"icon/Group 53.png\",alt:\"noimage\"}),/*#__PURE__*/React.createElement(\"img\",{id:\"repo1-3-2\",src:\"icon/Group.png\",alt:\"noimage\"})),/*#__PURE__*/React.createElement(\"form\",{action:\"\",onSubmit:this.addsubmit,onsubmit:\"return false;\"},/*#__PURE__*/React.createElement(\"label\",{for:\"Add\",class:\"page3-2-2\"},\"Address\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",class:\"add page3-2-2-2\",name:\"add\",value:this.props.val.address,onChange:function onChange(e){return _this4.props.cbfunc(e.target.value,2);},placeholder:\"  Address where the violation happened\",required:true}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{for:\"City\",class:\"page3-2-2\"},\"City\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",class:\"City page3-2-2-2\",name:\"City\",value:this.props.val.city,onChange:function onChange(e){return _this4.props.cbfunc(e.target.value,3);},required:true}),/*#__PURE__*/React.createElement(\"label\",{for:\"State\",class:\"page3-2-2-1\"},\"State\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",class:\"State page3-2-2-2\",name:\"State\",required:true,value:this.props.val.state,onChange:function onChange(e){return _this4.props.cbfunc(e.target.value,4);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{for:\"Pin\",class:\"page3-2-2-1\"},\"Pin\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",class:\"pin page3-2-2-2\",name:\"Pin\",required:true,value:this.props.val.pin,onChange:function onChange(e){return _this4.props.cbfunc(e.target.value,5);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"button\",class:\"submit\",onClick:this.props.sub,value:\"Next     >\"}))));}}]);return Form1;}(React.Component);export default ReportForm;","map":{"version":3,"sources":["/home/utkarsh/Desktop/Jagruk_Corona/src/reportform.js"],"names":["React","ReportFormFinal","ReportForm","window","localStorage","login","location","href","FullForm","props","state","address","city","pin","number","title","desc","img","isActive","filled","obj","load","handleChange","bind","sub1","finalsub","back","setState","console","log","e","document","getElementById","style","display","data","FormData","append","uuid","fetch","method","body","then","res","json","result","error","val","c","reader","FileReader","selectedFile","name","onload","event","src","target","readAsDataURL","Component","Form1","addsubmit","fileuploaded","uploadagain","taketomain","cbfunc","files","value","sub"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './reportform.css';\nimport ReportFormFinal from './reportformfinal';\n\nfunction ReportForm(){\n\tif(window.localStorage.login==\"true\"){\n\t\treturn(\n\t\t\t<FullForm />\n\t\t);\n\t}\n    else{\n\t\twindow.location.href='/main';\n\t}\n}\n\nclass FullForm extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = \n\t\t{state: '',\n\t\t address: '',\n\t\t city: '',\n\t\t pin:'',\n\t\t number:'',\n\t\t title:'',\n\t\t desc:'',\n\t\t img:null,\n\t\t isActive:false,\n\t\t filled:false,\n\t\t obj: null,\n\t\t load : \"none\"\n\t  };\n\t  this.handleChange = this.handleChange.bind(this);\n\t  this.sub1=this.sub1.bind(this);\n\t  this.finalsub=this.finalsub.bind(this);\n\t  this.back=this.back.bind(this);\n\t}\n\tsub1(){\n\t\tthis.setState({filled : true});\n\t\tconsole.log(\"here yea\");\n\t\t//this.state.obj= <ReportFormFinal />\n\t}\n\n\tback(){\n\t\tthis.setState({filled:false});\n\t}\n\n\tfinalsub(e){\n\t//\te.preventdefault();\n\t\tdocument.getElementById(\"repo1-3-2\").style.display = \"initial\";\n\t\tvar data = new FormData();\n\t\tdata.append(\"user_id\", window.localStorage.uuid);\n\t\tdata.append(\"title\",\"title\");\n\t\tdata.append(\"address\",this.state.address);\n\t\tdata.append(\"city\",this.state.city);\n\t\tdata.append(\"pincode\",this.state.pin);\n\t\tdata.append(\"state\",this.state.state);\n\t\tdata.append(\"country\",this.state.desc);\n\t\tdata.append(\"image\",this.state.img);\n\t\tthis.setState({load:\"block\"});\n\t\t\n\t\tfetch(\"https://demo-stormbreaker.herokuapp.com/reports/register\",{\n\t\t\t\t  method: \"POST\",\n\t\t\t\t  body: data\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(\n\t\t  (result) => {\n\t\t\t\t// console.log(\"register report\");\n\t\t\t\t// console.log(result);\n\t\t\t\tthis.setState({load:\"none\"});\n\n\t\t\t\twindow.location.href=\"/submit\";\n\t\t\t\t\n  \n\t\t\t\n\t\t  },\n\t\t  // Note: it's important to handle errors here\n\t\t  // instead of a catch() block so that we don't swallow\n\t\t  // exceptions from actual bugs in components.\n\t\t  (error) => {\n\t\t\t// register unsucessful, show error & redirect to home page\n\t\t   \n\t\t  \n  \n\t\t  });\n\t\t//console.log(this.state.address);\n\t\t\n\t}\n\thandleChange(val,c) {\n\t\tconsole.log(val);\n\t\t\n\n\t\t//document.getElementById(\"uploaded-img\").src= val.name;\n\t  switch(c){\n\t\tcase 1:\n\t\t  this.setState({img:val});\n\t\t  var reader = new FileReader();\n\n\t\t  var selectedFile = val;\n\n\t\t  document.getElementById(\"uploaded-img\").title = selectedFile.name;\n\n\t\t  reader.onload = function(event) {\n\t\t\t  document.getElementById(\"uploaded-img\").src = event.target.result;\n\t\t  };\n\n\t\t  reader.readAsDataURL(selectedFile);\n\t\t  break;\n\t\tcase 2:\n\t\t  this.setState({address:val});\n\t\t  break;\n\t\tcase 3:\n\t\t  this.setState({city:val});\n\t\t  break;\n\t\tcase 4:\n\t\t  this.setState({state:val});\n\t\t  break;\n\t\tcase 5:\n\t\t  this.setState({pin:val});\n\t\t  break;\n\t\tcase 6:\n\t\t  this.setState({number:val});\n\t\t  break;\n\t\tcase 7:\n\t\t  this.setState({title:val});\n\t\t  break;\n\t\tcase 8:\n\t\t  this.setState({desc:val});  \n\t\t  break;\n\t  }\n\t\n\t}\n\trender(){\n\t\tif(this.state.filled == false){\n\t\t\tthis.state.obj= <Form1 cbfunc={this.handleChange} val={this.state} sub={this.sub1}/>\n\t\t}\n\t\telse{\n\t\t\tthis.state.obj=<ReportFormFinal sub={this.finalsub} val={this.state} cbfunc={this.handleChange} back={this.back} load={this.state.load}/>\n\t\t}\n\n\t\treturn(this.state.obj);\n\t}\n}\nclass Form1 extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = \n\t\t{state: '',\n\t\t address: '',\n\t\t city: '',\n\t\t pin:'',\n\t\t number:'',\n\t\t title:'',\n\t\t desc:'',\n\t\t img:null,\n\t\t isActive:false,\n\t\t filled:false\n\t  };\n\t//  this.handleChange = this.handleChange.bind(this);\n\t  this.addsubmit = this.addsubmit.bind(this);\n\t  this.fileuploaded = this.fileuploaded.bind(this);\n\t  this.uploadagain = this.uploadagain.bind(this);\n\t  \n\t}\n\t\n\n\ttaketomain(){\n\t\twindow.location.href='/main';\n\t}\n    fileuploaded(){\n        document.getElementById(\"upload-img\").style.display = \"none\";\n        document.getElementById(\"after-upload\").style.display = \"block\";\n        // document.getElementById(\"repo1-2-2\").style.display = \"initial\";\n        // //document.getElementById(\"repo1-1-2\").style.display = \"none\";\n\t\t// document.getElementById(\"repo1-1-21\").style.display = \"block\";\n\t\t\n    }\n    \n   uploadagain(){\n        document.getElementById(\"upload-img\").style.display =\"block\" ;\n        document.getElementById(\"after-upload\").style.display = \"none\";\n        // document.getElementById(\"repo1-2-2\").style.display = \"none\";\n        // document.getElementById(\"repo1-1-2\").style.display = \"block\";\n        // document.getElementById(\"repo1-1-21\").style.display = \"none\";\n            \n    }\n\taddsubmit(){\n\t\t//document.getElementById(\"repo1-3-2\").style.display = \"initial\";\n\t\tconsole.log(\"yea\");\n\t\tthis.state.filled=true;\n\t\treturn false;\n \t}\n\t  \n\t\n\t \n\t  render(){\n\t\t\treturn(\n\t\t\t\t<div class=\"repo1\">\n\t\t\t\t<button type=\"button\" class=\"back \" onClick={this.taketomain}>\n\t\t\t\t\t\t<img class=\"back-1\" src=\"icon/Vector.png\"  alt=\"noimage\"/>            \n\t\t\t\t</button><br/><br/>\n\t\t\t\t\t{/* <nav class=\"navbar \">\n\t\t\t  <div >\n\t\t\t\t  <button type=\"button\" class=\"page3-2\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\n\t\t\t\t\t\t<img class=\"step-5\" src=\"icon/menu.png\"  alt=\"noimage\"/>            \n\t\t\t\t  </button>\n\t\t\t   </div>\n\t\t\t\t<div class=\"page3-1 dropdown-menu dropdown-menu-right \" id=\"myNavbar\">\n\t\t\t\t  <ul class=\" abcd  \">\n\t\t\t\t  \t<li class=\"abcd\"><a href=\"#\"><img class=\"nav-icon\" src=\"icon/login-16 (1).png\"  alt=\"noimage\"/> Login</a></li><br/>\n\t\t\t\t\t<li class=\"abcd\"><a href=\"/stats\"><img class=\"nav-icon\" src=\"icon/Group 14.png\"  alt=\"noimage\"/>Stats</a></li>\n\t\t\t\t\t<li class=\"abcd\"><a href=\"about\"><img class=\"nav-icon\" src=\"icon/Group 15.png\"  alt=\"noimage\"/>What is a violation?</a></li>\n\t\t\t\t\t<li class=\"abcd\"><a href=\"/usefullinks\"><img class=\"nav-icon\" src=\"icon/Group 16.png\"  alt=\"noimage\"/>Useful Links</a></li>\n\t\t\t\t\t<li class=\"abcd\"><a href=\"/share\"><img class=\"nav-icon\" src=\"icon/Group 17.png\"  alt=\"noimage\"/>Share app with friends</a></li>\n\t\t\t\t\t<li class=\"abcd\"><a href=\"#\"><img class=\"nav-icon\" src=\"icon/Group 19.png\"  alt=\"noimage\"/> Logout</a></li><br/>\n\t\t\t\t  </ul>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"repo1-1\">\n\t\t\t\t\t\t<p class=\"repo1-1-1\">Report violation </p>\n\t\t\t\t\t\t<img id=\"repo1-1-2\" src=\"icon/Group 50.png\"  alt=\"noimage\"/>\n\t\t\t\t\t\t<img id=\"repo1-1-21\" src=\"icon/1 filed.png\"  alt=\"noimage\"/>\n\t\t\t\t\t</div>\n\t\t\t </nav> */}\n\t\t\t<div class=\"repo1-2\">\n\t\t\t\t <div class=\"ua1\"> <img class=\"repo1-2-1\" src=\"icon/Group 52.png\"  alt=\"noimage\"/><img id=\"repo1-2-2\" src=\"icon/Group.png\"  alt=\"noimage\"/></div>\n\t\t\t\t\n\t\t\t\t\t\t<label for=\"file-input\">\n\t\t\t\t\t\t\t<p class=\"upload-pic\">Upload Picture</p><img  id=\"upload-img\" src=\"icon/Group 7.png\" onClick={this.fileuploaded}  alt=\"noimage\"/>\n\t\t\t\t\t\t</label> \n\t\t\t\t\t\t<input  id=\"file-input\" type=\"file\" onChange={e=> this.props.cbfunc(e.target.files[0], 1)}/>\n\t\t\n\t\t\t\t\t\t<div id=\"after-upload\">\n\t\t\t\t\t\t\t<button class=\"reupload\" type=\"button\" onClick={this.uploadagain}>Reupload</button>\n\t\t\t\t\t\t\t<img id=\"uploaded-img\"  src=\"\"  alt=\"noimage\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t <div class=\"repo1-3 \"><div class=\"ua2\">  <img class=\"repo1-2-1\" src=\"icon/Group 53.png\"  alt=\"noimage\"/><img id=\"repo1-3-2\" src=\"icon/Group.png\"  alt=\"noimage\"/></div>\n\t\t\t\t<form action=\"\" onSubmit={this.addsubmit} onsubmit=\"return false;\">\n\t\t\t\t\t<label for=\"Add\" class=\"page3-2-2\">Address</label><br/>\n\t\t\t\t\t<input type=\"text\" class=\"add page3-2-2-2\"  name=\"add\" value={this.props.val.address} onChange={e=> this.props.cbfunc(e.target.value, 2)} placeholder=\"  Address where the violation happened\" required/><br/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<label for=\"City\" class=\"page3-2-2\">City</label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t<input type=\"text\" class=\"City page3-2-2-2\" name=\"City\" value={this.props.val.city} onChange={e=> this.props.cbfunc(e.target.value, 3)} required/>\n\t\t\t\t\t\t<label for=\"State\" class=\"page3-2-2-1\">State</label><br/>\n\t\t\t\t\t\t<input type=\"text\" class=\"State page3-2-2-2\" name=\"State\" required value={this.props.val.state} onChange={e=> this.props.cbfunc(e.target.value, 4)}/><br/>\n\t\t\t\t\t\t<label for=\"Pin\" class=\"page3-2-2-1\">Pin</label><br/>\n\t\t\t\t\t\t<input type=\"number\" class=\"pin page3-2-2-2\" name=\"Pin\" required value={this.props.val.pin} onChange={e=> this.props.cbfunc(e.target.value, 5)}/><br/>\n\t\t\t\t\t \t<input type=\"button\" class=\"submit\"  onClick={this.props.sub} value=\"Next     >\"/>\n\t\t\t\t</form> \n\t\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\t  )\n\t\t\n\t\t  \n\t  }\n}\n\n\n\nexport default ReportForm;"]},"metadata":{},"sourceType":"module"}